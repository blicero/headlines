{# -*- mode: jinja2; coding: utf-8; -*-
Time-stamp: <2025-11-12 11:59:55 krylon>
/data/code/python/headlines/web/templates/feeds.jinja
created on 11. 11. 2025
(c) 2025 Benjamin Walkenhorst
 #}

{% extends "main.jinja" %}

{% block content %}
  <table class="table table-striped table-secondary">
    <thead>
      <tr>
        <th>Name</th>
        <th>Interval (sec.)</th>
        <th>Last Update</th>
        <th>Active?</th>
        <th>Unsubscribe?</th>
      </tr>
    </thead>

    <tbody>
      {% for feed in feeds %}
        <tr id="feed_row_{{ feed.fid }}">
          <td>
            <a target="_blank" href="{{ feed.homepage }}">
              {{ feed.name }}
            </a><br />
            <button class="btn btn-primary btn-sm"
                    data-bs-toggle="collapse"
                    href="#collapse_desc_{{ feed.fid }}"
                    aria-expanded="false"
                    aria-controls="#collapse_desc_{{ feed.fid }}">
                    Description
            </button>
            <div class="collapse" id="collapse_desc_{{ feed.fid }}">
              {{ feed.description }}
            </div>
          </td>
          <td style="text-align: right;">{{ feed.interval }}</td>
          <td>{{ feed.update_str }}</td>
          <td>
            <div class="form-check form-switch">
              <label class="form-check-label"
                     for="switch-active-{{ feed.fid }}">
                     Update Feed?
              </label>
              <input class="form-check-input"
                     type="checkbox"
                     role="switch"
                     id="switch-active-{{ feed.fid }}"
                     onchange="feed_toggle_active({{ feed.fid }});"
                     {% if feed.active %}checked{% endif %}
                     />
            </div>
          </td>
          <td>
            <button type="button"
                    class="btn btn-warning btn-sm"
                    onclick="feed_unsubscribe({{ feed.fid }});">
                    End subscription
            </button>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}


